{"ast":null,"code":"var _jsxFileName = \"/Users/nassim/Desktop/projectbooking/client/src/components/auth/Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Avatar, CssBaseline, Link, Box, Typography, makeStyles, Container } from '@material-ui/core';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport { toast } from 'react-toastify';\nimport RegiserForm from '../../components/forms/RegisterForm'; //\n\nimport { registerUser } from '../../redux/actions/userAction'; // import axios from 'axios';\n// import { useDispatch } from 'react-redux';\n\nfunction Copyright() {\n  return /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }\n  }, 'Copyright Â© ', /*#__PURE__*/React.createElement(Link, {\n    color: \"inherit\",\n    href: \"https://material-ui.com/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  }, \"Travely\"), ' ', new Date().getFullYear(), '.');\n}\n\n_c = Copyright;\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(3)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\n\nconst Register = ({\n  history\n}) => {\n  _s();\n\n  //styles\n  const classes = useStyles(); //states\n\n  const [firstname, setFirstname] = useState('');\n  const [lastname, setLastname] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [adresse, setAdresse] = useState('');\n  const [phone, setPhone] = useState(''); // functions\n\n  const handleChangefn = e => {\n    setFirstname(e.target.value);\n  };\n\n  const handleChangeln = e => {\n    setLastname(e.target.value);\n  };\n\n  const handleChangee = e => {\n    setEmail(e.target.value);\n  };\n\n  const handleChangep = e => {\n    setPassword(e.target.value);\n  };\n\n  const handleChangea = e => {\n    setAdresse(e.target.value);\n  };\n\n  const handleChangeph = e => {\n    setPhone(e.target.value);\n  }; // const dispatch = useDispatch();\n  // const handleSubmit = (e) => {\n  //   e.preventDefault();\n  //   try {\n  //     dispatch(\n  //       registerUser({ firstname, lastname, email, password, adresse, phone })\n  //     );\n  //   } catch (error) {\n  //     if (error.response.status === 400) toast.error(error.response.data);\n  //     if (error.response.status === 200) toast.error(error.response.data);\n  //   }\n  // };\n\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      await registerUser({\n        firstname,\n        lastname,\n        email,\n        password,\n        adresse,\n        phone\n      }); // console.log('REGISTER USER ===> ', res);\n\n      toast.success('Register success. Please login.');\n      history.push('/login');\n    } catch (err) {\n      // console.log(err);\n      if (err.response.status === 400) toast.error(err.response.data);\n      history.push('/register');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: classes.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LockOutlinedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(RegiserForm, {\n    firstname: firstname,\n    handleChangefn: handleChangefn,\n    lastname: lastname,\n    handleChangeln: handleChangeln,\n    email: email,\n    handleChangee: handleChangee,\n    password: password,\n    handleChangep: handleChangep,\n    adresse: adresse,\n    handleChangea: handleChangea,\n    phone: phone,\n    handleChangeph: handleChangeph,\n    handleSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    mt: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Copyright, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  })));\n};\n\n_s(Register, \"24+ojRwhtsKGkjIzEMS29hv1hAo=\", false, function () {\n  return [useStyles];\n});\n\n_c2 = Register;\nexport default Register;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Copyright\");\n$RefreshReg$(_c2, \"Register\");","map":{"version":3,"sources":["/Users/nassim/Desktop/projectbooking/client/src/components/auth/Register.js"],"names":["React","useState","Avatar","CssBaseline","Link","Box","Typography","makeStyles","Container","LockOutlinedIcon","toast","RegiserForm","registerUser","Copyright","Date","getFullYear","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","Register","history","classes","firstname","setFirstname","lastname","setLastname","email","setEmail","password","setPassword","adresse","setAdresse","phone","setPhone","handleChangefn","e","target","value","handleChangeln","handleChangee","handleChangep","handleChangea","handleChangeph","handleSubmit","preventDefault","success","push","err","response","status","error","data"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport {\n  Avatar,\n  CssBaseline,\n  Link,\n  Box,\n  Typography,\n  makeStyles,\n  Container,\n} from '@material-ui/core';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport { toast } from 'react-toastify';\nimport RegiserForm from '../../components/forms/RegisterForm';\n\n//\nimport { registerUser } from '../../redux/actions/userAction';\n\n// import axios from 'axios';\n// import { useDispatch } from 'react-redux';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright Â© '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Travely\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst Register = ({ history }) => {\n  //styles\n  const classes = useStyles();\n  //states\n  const [firstname, setFirstname] = useState('');\n  const [lastname, setLastname] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [adresse, setAdresse] = useState('');\n  const [phone, setPhone] = useState('');\n  // functions\n  const handleChangefn = (e) => {\n    setFirstname(e.target.value);\n  };\n  const handleChangeln = (e) => {\n    setLastname(e.target.value);\n  };\n  const handleChangee = (e) => {\n    setEmail(e.target.value);\n  };\n  const handleChangep = (e) => {\n    setPassword(e.target.value);\n  };\n  const handleChangea = (e) => {\n    setAdresse(e.target.value);\n  };\n  const handleChangeph = (e) => {\n    setPhone(e.target.value);\n  };\n  // const dispatch = useDispatch();\n  // const handleSubmit = (e) => {\n  //   e.preventDefault();\n  //   try {\n  //     dispatch(\n  //       registerUser({ firstname, lastname, email, password, adresse, phone })\n  //     );\n  //   } catch (error) {\n  //     if (error.response.status === 400) toast.error(error.response.data);\n  //     if (error.response.status === 200) toast.error(error.response.data);\n  //   }\n  // };\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await registerUser({\n        firstname,\n        lastname,\n        email,\n        password,\n        adresse,\n        phone,\n      });\n      // console.log('REGISTER USER ===> ', res);\n      toast.success('Register success. Please login.');\n      history.push('/login');\n    } catch (err) {\n      // console.log(err);\n      if (err.response.status === 400) toast.error(err.response.data);\n      history.push('/register');\n    }\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Register\n        </Typography>\n\n        <RegiserForm\n          firstname={firstname}\n          handleChangefn={handleChangefn}\n          lastname={lastname}\n          handleChangeln={handleChangeln}\n          email={email}\n          handleChangee={handleChangee}\n          password={password}\n          handleChangep={handleChangep}\n          adresse={adresse}\n          handleChangea={handleChangea}\n          phone={phone}\n          handleChangeph={handleChangeph}\n          handleSubmit={handleSubmit}\n        />\n      </div>\n\n      <Box mt={5}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}